
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="/lovable-uploads/aa432989-9188-4c5d-8423-d6882be39db0.png" type="image/png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Manor | Leederville</title>
    <meta name="description" content="Manor Nightclub - Perth's premier nightlife destination. VIP tables, special events, and unforgettable nights. Open Thu-Sat 9PM-3AM." />
    <meta name="author" content="Manor Nightclub" />

    <meta property="og:title" content="Manor | Leederville" />
    <meta property="og:description" content="Manor Nightclub - Perth's premier nightlife destination. VIP tables, special events, and unforgettable nights. Open Thu-Sat 9PM-3AM." />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://i.postimg.cc/yYZvJhgx/9e4ddb40-3269-46ab-b733-0ee7b2d84696.png" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@manor_perth" />
    <meta name="twitter:image" content="https://i.postimg.cc/yYZvJhgx/9e4ddb40-3269-46ab-b733-0ee7b2d84696.png" />
    
    <!-- VIP Booking Widget Files -->
    <link rel="stylesheet" href="/widget.css">
    <script src="/gm-booking-widget-standalone.js"></script>
    
    <!-- Karaoke Booking Widget Files -->
    <!-- Core Dependencies -->
    <script src="/karaoke-widget/src/transport/supabase.js"></script>
    <script src="/karaoke-widget/src/core/dom.js"></script>
    <script src="/karaoke-widget/src/state/store.js"></script>
    <script src="/karaoke-widget/src/state/compat.js"></script>

    <!-- API Services -->
    <script src="/karaoke-widget/src/api/venue.js"></script>
    <script src="/karaoke-widget/src/api/karaoke.js"></script>
    <script src="/karaoke-widget/src/api/booking.js"></script>
    <script src="/karaoke-widget/src/api/wrappers.js"></script>

    <!-- UI Components -->
    <script src="/karaoke-widget/src/ui/components/DateField.js"></script>
    <script src="/karaoke-widget/src/ui/components/GuestField.js"></script>
    <script src="/karaoke-widget/src/ui/components/SlotsGrid.js"></script>
    <script src="/karaoke-widget/src/ui/components/BoothSelect.js"></script>
    <script src="/karaoke-widget/src/ui/components/HoldBanner.js"></script>
    <script src="/karaoke-widget/src/ui/components/Status.js"></script>

    <!-- Features -->
    <script src="/karaoke-widget/src/features/karaoke/holds.js"></script>
    <script src="/karaoke-widget/src/features/karaoke/controller.js"></script>

    <!-- Widget Core -->
    <script src="/karaoke-widget/src/widget/modal.js"></script>
    <script src="/karaoke-widget/src/widget/modal-init.js"></script>
    <script src="/karaoke-widget/src/widget/forms.js"></script>
    <script src="/karaoke-widget/src/widget/index.js"></script>
  </head>

  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    
    <script>
      // ===== VIP TICKET BOOKING FUNCTIONS =====
      
      // General VIP booking (user chooses venue)
      function openVIPModal() {
          GMBookingModal({
              venue: 'both',              // Shows Manor and Hippie options
              theme: 'light',             // or 'dark' to match your site
              bookingType: 'vip_tickets', // Important: This enables VIP mode
              showSpecialRequests: true   // Allow special requests field
          });
      }
      
      // Manor VIP booking (pre-configured)
      function openManorVIPModal() {
          GMBookingModal({
              preConfig: {
                  venue: 'manor',
                  bookingType: 'vip_tickets'
              },
              theme: 'light',
              showSpecialRequests: true
          });
      }
      
      // Hippie VIP booking (pre-configured)
      function openHippieVIPModal() {
          GMBookingModal({
              preConfig: {
                  venue: 'hippie',
                  bookingType: 'vip_tickets'
              },
              theme: 'light',
              showSpecialRequests: true
          });
      }
      
      // Venue Hire booking (general venue hire)
      function openVenueHireModal() {
          GMBookingModal({
              venue: 'both',              // Shows Manor and Hippie options
              theme: 'light',
              bookingType: 'venue_hire',  // Important: This enables venue hire mode
              showSpecialRequests: true
          });
      }

      // ===== KARAOKE BOOKING FUNCTIONS =====
      
      // Karaoke booking configuration
      window.GMBookingWidgetConfig = {
          apiKey: 'YOUR_SUPABASE_SERVICE_ROLE_KEY', // This should be replaced with actual key in production
          supabaseUrl: 'https://your-project.supabase.co', // This should be replaced with actual URL in production
          debug: false // Set to true for development debugging
      };
      
      // Karaoke booking modal function
      function openKaraokeModal() {
          if (typeof GMBookingModal === 'function') {
              // Try karaoke-specific modal first
              if (typeof GMKaraokeBookingModal === 'function') {
                  GMKaraokeBookingModal('karaoke', 'Manor');
              } else {
                  // Fallback to regular booking modal with karaoke configuration
                  GMBookingModal({
                      venue: 'manor',
                      venueArea: 'karaoke',
                      theme: 'dark',
                      primaryColor: '#F2993B',
                      showSpecialRequests: true
                  });
              }
          } else {
              alert('Karaoke booking system is currently unavailable. Please try again later.');
          }
      }

      // Make functions globally available
      window.openVIPModal = openVIPModal;
      window.openManorVIPModal = openManorVIPModal;
      window.openHippieVIPModal = openHippieVIPModal;
      window.openVenueHireModal = openVenueHireModal;
      window.openKaraokeModal = openKaraokeModal;
      
      // Make GMKaraokeBookingModal globally available for the React component
      window.GMKaraokeBookingModal = function(bookingType, venue) {
          openKaraokeModal();
      };
    </script>
  </body>
</html>
