
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="/lovable-uploads/aa432989-9188-4c5d-8423-d6882be39db0.png" type="image/png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Manor | Leederville</title>
    <meta name="description" content="Manor Nightclub - Perth's premier nightlife destination. VIP tables, special events, and unforgettable nights. Open Thu-Sat 9PM-3AM." />
    <meta name="author" content="Manor Nightclub" />

    <meta property="og:title" content="Manor | Leederville" />
    <meta property="og:description" content="Manor Nightclub - Perth's premier nightlife destination. VIP tables, special events, and unforgettable nights. Open Thu-Sat 9PM-3AM." />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://i.postimg.cc/yYZvJhgx/9e4ddb40-3269-46ab-b733-0ee7b2d84696.png" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@manor_perth" />
    <meta name="twitter:image" content="https://i.postimg.cc/yYZvJhgx/9e4ddb40-3269-46ab-b733-0ee7b2d84696.png" />
    
    <!-- GM Booking Widget CSS (modular) -->
    <link rel="stylesheet" href="/assets/js/booking-widget/widget.css">

    <!-- GM Booking Widget Configuration (REPLACE KEYS) -->
    <script>
      window.GMBookingWidgetConfig = {
        apiEndpoint: 'https://plksvatjdylpuhjitbfc.supabase.co/functions/v1',
        bookingApiName: 'public-booking-api-v2',
        apiKey: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBsa3N2YXRqZHlscHVoaml0YmZjIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MDc2NDkzMywiZXhwIjoyMDY2MzQwOTMzfQ.M4Ikh3gSAVTPDxkMNrXLFxCPjHYqaBC5HcVavpHpNlk',
        supabaseUrl: 'https://plksvatjdylpuhjitbfc.supabase.co',
        supabaseAnonKey: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBsa3N2YXRqZHlscHVoaml0YmZjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3NjQ5MzMsImV4cCI6MjA2NjM0MDkzM30.IdM8u1iq88C0ruwp7IkMB7PxwnfwmRyl6uLnBmZq5ys',
        theme: 'light',
        showSpecialRequests: true,
        debug: false
      };
    </script>

    <!-- GM Booking Widget Scripts (EXACT ORDER) -->
    <script src="/assets/js/booking-widget/src/core/dom.js"></script>
    <script src="/assets/js/booking-widget/src/transport/supabase.js"></script>
    <script src="/assets/js/booking-widget/src/api/venue.js"></script>
    <script src="/assets/js/booking-widget/src/api/karaoke.js"></script>
    <script src="/assets/js/booking-widget/src/api/wrappers.js"></script>
    <script src="/assets/js/booking-widget/src/state/store.js"></script>
    <script src="/assets/js/booking-widget/src/state/compat.js"></script>
    <script src="/assets/js/booking-widget/src/ui/components/DateField.js"></script>
    <script src="/assets/js/booking-widget/src/ui/components/GuestField.js"></script>
    <script src="/assets/js/booking-widget/src/ui/components/SlotsGrid.js"></script>
    <script src="/assets/js/booking-widget/src/ui/components/BoothSelect.js"></script>
    <script src="/assets/js/booking-widget/src/ui/components/HoldBanner.js"></script>
    <script src="/assets/js/booking-widget/src/ui/components/Status.js"></script>
    <script src="/assets/js/booking-widget/src/features/karaoke/holds.js"></script>
    <script src="/assets/js/booking-widget/src/features/karaoke/controller.js"></script>
    <script src="/assets/js/booking-widget/src/widget/modal.js"></script>
    <script src="/assets/js/booking-widget/src/widget/modal-init.js"></script>
    <script src="/assets/js/booking-widget/src/api/booking.js"></script>
    <script src="/assets/js/booking-widget/src/widget/forms.js"></script>
    <script src="/assets/js/booking-widget/src/widget/index.js"></script>
  </head>

  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    
    <script>
      // ===== VIP TICKET BOOKING FUNCTIONS =====
      
      // General VIP booking (user chooses venue)
      function openVIPModal() {
          GMBookingModal({
              venue: 'both',              // Shows Manor and Hippie options
              theme: 'light',             // or 'dark' to match your site
              bookingType: 'vip_tickets', // Important: This enables VIP mode
              showSpecialRequests: true   // Allow special requests field
          });
      }
      
      // Manor VIP booking (pre-configured)
      function openManorVIPModal() {
          GMBookingModal({
              preConfig: {
                  venue: 'manor',
                  bookingType: 'vip_tickets'
              },
              theme: 'light',
              showSpecialRequests: true
          });
      }
      
      // Hippie VIP booking (pre-configured)
      function openHippieVIPModal() {
          GMBookingModal({
              preConfig: {
                  venue: 'hippie',
                  bookingType: 'vip_tickets'
              },
              theme: 'light',
              showSpecialRequests: true
          });
      }
      
      // Venue Hire booking (general venue hire)
      function openVenueHireModal() {
          GMBookingModal({
              venue: 'both',              // Shows Manor and Hippie options
              theme: 'light',
              bookingType: 'venue_hire',  // Important: This enables venue hire mode
              showSpecialRequests: true
          });
      }
      
      // ===== KARAOKE BOOKING FUNCTIONS =====
      
      // Karaoke booking modal function
      function openKaraokeModal() {
          if (typeof GMBookingModal === 'function') {
              // Try karaoke-specific modal first
              if (typeof GMKaraokeBookingModal === 'function') {
                  GMKaraokeBookingModal('karaoke', 'Manor');
              } else {
                  // Fallback to regular booking modal with karaoke configuration
                  GMBookingModal({
                      venue: 'manor',
                      venueArea: 'karaoke',
                      theme: 'dark',
                      primaryColor: '#F2993B',
                      showSpecialRequests: true
                  });
              }
          } else {
              alert('Karaoke booking system is currently unavailable. Please try again later.');
          }
      }

      // Make functions globally available
      window.openVIPModal = openVIPModal;
      window.openManorVIPModal = openManorVIPModal;
      window.openHippieVIPModal = openHippieVIPModal;
      window.openVenueHireModal = openVenueHireModal;
      window.openKaraokeModal = openKaraokeModal;
      
      // Make GMKaraokeBookingModal globally available for the React component
      window.GMKaraokeBookingModal = function(bookingType, venue) {
          if (typeof GMBookingModal === 'function') {
              GMBookingModal({
                  venue: venue || 'manor',
                  bookingType: 'karaoke',
                  venueArea: 'karaoke',
                  theme: 'dark',
                  primaryColor: '#F2993B',
                  showSpecialRequests: true
              });
          } else {
              alert('Karaoke booking system is currently unavailable. Please try again later.');
          }
      };
    </script>
  </body>
</html>
